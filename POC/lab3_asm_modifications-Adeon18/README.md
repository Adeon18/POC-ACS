# Lab work 3: Binary File modification
Authors (team): [Ostap Trush](https://github.com/Adeon18)<br>
Variant: 45
## Prerequisites

- There are no prerequirements.
- For this lab I used Cutter.

### Compilation/Installation/Usage

- There is no compilation.
- If the files cannot be executed => give them permission
- Then **./filename.x** to execute a working program.

### How I completed this lab work

Опишу Українською(краще можна буде пояснити та і курс ведеться українською).

Моє завдання: 45 - Зробити так щоб програма замість різниці двох чисел чисел від одного до 5, зробити так щоб перше число - ціле від 1 до 5(залишити як було), а друге число - ціле від 1 до 10.(От це і треба змінити.)

При запуску програми(без змін) бачимо таке:
```
1 - 1 = 0
1 - 2 = -1
1 - 3 = -2
1 - 4 = -3
2 - 1 = 1
2 - 2 = 0
2 - 3 = -1
2 - 4 = -2
3 - 1 = 2
3 - 2 = 1
3 - 3 = 0
3 - 4 = -1
4 - 1 = 3
4 - 2 = 2
4 - 3 = 1
4 - 4 = 0
```

Зразу стає зрозуміло - вкладений цикл, всередині - інкрементиться друге число, ззовні - перше.

Висновок - нам потрібно змінити друге число, а саме межу внутрішнього циклу. **А САМЕ** - значення з яким порівнюється індекс в певному регістрі перед визначенням чи потрібно завершувати цикл чи ні. Тобто шукаємо команду **cmp** <Індекс внутрішнього> 5(або щось схоже) та міняємо на 10. *cmp* шукаємо тому що перед кожною ітерацією в циклі, ми перевіряємо чи ми виходимо з нього чи продовжуємо.

При відкритті бінарника в Cutter, легко знайшлася функція main, в якій бачу таких 6 рядочків:
```
mov     dword [var_8h], 1
0x00401146      cmp     dword [var_8h], 5
0x0040114a      jge     0x4011a1
```
Та ще:
```
mov     dword [var_ch], 1
0x00401157      cmp     dword [var_ch], 5
0x0040115b      jge     0x40118e
```

Розумію що щось з цього відповідає за перевірку зовнішнього а щось за перевірку внутрішнього циклу. Перешлянувши, куди ці рядочки "стрибають" та при яких умовах, не важко було визначити що зміну треба було зробити у другій частині коду. Міняємо 
`0x00401157      cmp     dword [var_ch], 5` на `0x00401157      cmp     dword [var_ch], 0xa`.

Готово! Тепер програма виводить:
```
1 - 1 = 0
1 - 2 = -1
1 - 3 = -2
1 - 4 = -3
1 - 5 = -4
1 - 6 = -5
1 - 7 = -6
1 - 8 = -7
1 - 9 = -8
2 - 1 = 1
2 - 2 = 0
2 - 3 = -1
2 - 4 = -2
2 - 5 = -3
2 - 6 = -4
2 - 7 = -5
2 - 8 = -6
2 - 9 = -7
3 - 1 = 2
3 - 2 = 1
3 - 3 = 0
3 - 4 = -1
3 - 5 = -2
3 - 6 = -3
3 - 7 = -4
3 - 8 = -5
3 - 9 = -6
4 - 1 = 3
4 - 2 = 2
4 - 3 = 1
4 - 4 = 0
4 - 5 = -1
4 - 6 = -2
4 - 7 = -3
4 - 8 = -4
4 - 9 = -5
```

Завдання виконано :)

### Important!

Програма з самого початку виводила числа не включно по 5, того я припускаю що так потрібно зробити і з 10.

### Results

Я зміг дизасемблювати та змінити поведінку бінарного файлу.

